const _0x4d110c=_0x4ad1;(function(_0x465e75,_0x2ff85d){const _0x375523=_0x4ad1,_0x44bf06=_0x465e75();while(!![]){try{const _0x45bfa4=-parseInt(_0x375523(0x10c))/0x1+parseInt(_0x375523(0x10b))/0x2+parseInt(_0x375523(0x164))/0x3*(parseInt(_0x375523(0x1ad))/0x4)+-parseInt(_0x375523(0x195))/0x5*(-parseInt(_0x375523(0x147))/0x6)+-parseInt(_0x375523(0x144))/0x7*(parseInt(_0x375523(0x113))/0x8)+parseInt(_0x375523(0x10e))/0x9*(parseInt(_0x375523(0x173))/0xa)+parseInt(_0x375523(0x15c))/0xb*(parseInt(_0x375523(0x172))/0xc);if(_0x45bfa4===_0x2ff85d)break;else _0x44bf06['push'](_0x44bf06['shift']());}catch(_0x1aa91a){_0x44bf06['push'](_0x44bf06['shift']());}}}(_0x455e,0x47af3));function _0x455e(){const _0xfc4f65=['ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','?security=tls&sni=','rm\x20-rf\x20','createWriteStream','config.yaml','none','config.json','https://oooo.serv00.net/add-url','Skipping\x20adding\x20automatic\x20access\x20task','blackhole','PROJECT_URL','block','text/plain;\x20charset=utf-8','php','tls','NEZHA_KEY','7AbGKhU','\x20>/dev/null\x202>&1','push','6IBpXpJ','127.0.0.1','Content-Type','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','unlinkSync','path','finish','/api/add-nodes','arm','SERVER_PORT','\x20already\x20exists','/vless-argo','web','listen','ARGO_PORT','post','toString','forEach','pop','e4a1b4b8-4c8e-48ac-8835-dbc4cc01679f','sub.txt','121zGHkRP','set','message','all','Empowerment\x20success\x20for\x20','AUTO_ACCESS','tcp','https://amd64.ssss.nyc.mn/agent','109677eSLpfm','&type=ws&host=','Error\x20downloading\x20files:','nohup\x20','exec','./php','existsSync','/vmess-argo?ed=2560','clear','\x20-p\x20','web\x20running\x20error:\x20','FILE_PATH','188.114.96.138','amd','277404sYpvuk','1212280iKfeOo','response','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','length','error','\x20successfully','\x0a\x20\x20\x0atrojan://','UPLOAD_URL','\x20is\x20created','https://amd64.ssss.nyc.mn/v1','2087','Hello\x20world!','arm64','Subscription\x20uploaded\x20successfully','true','catch','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','data','2096','bot','/php\x20-c\x20\x22','\x0a\x20\x20credentials-file:\x20','web\x20is\x20running','npm\x20running\x20error:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x0a\x20\x20\x0avmess://','npm\x20is\x20running','tunnel.json','unlink','&path=%2Fvless-argo%3Fed%3D2560#','from','util','TunnelSecret','test','167415dFUSXM','http','get','utf-8','Empowerment\x20failed\x20for\x20','CFPORT','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','./tmp','base64','2083','bot\x20is\x20running.','\x20failed:\x20','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','status','http\x20server\x20is\x20running\x20on\x20port:','--tls','vless','map','./web','match','php\x20running\x20error:\x20','boot.log','ARGO_AUTH','filter','4WFvDvB','freedom','child_process','php\x20is\x20running','join','Download\x20','/api/add-subscriptions','npm','Vls','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','NEZHA_SERVER','/config.json\x20>/dev/null\x202>&1\x20&','log','writeFileSync','false','mkdirSync','split','env','86384UNEtze','401801isuwZZ','&path=%2Ftrojan-argo%3Fed%3D2560#','36YYYxCL','quic','./bot','https+local://8.8.8.8/dns-query','arch','1256104Jkllow','Error\x20reading\x20boot.log:','NEZHA_PORT','https://arm64.ssss.nyc.mn/web','\x20>/dev/null\x202>&1\x20&','443','ARGO_DOMAIN:','\x0a\x20\x20tunnel:\x20','sub','\x0a\x20\x20\x20\x20','aarch64','PORT','axios','https://arm64.ssss.nyc.mn/agent','/bot\x20','/dev/null','readFileSync','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','has','vmess','2053','list.txt','stringify','stream','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','/sub.txt\x20saved\x20successfully','https://arm64.ssss.nyc.mn/v1','trim','?encryption=none&security=tls&sni=','includes','application/json','/vmess-argo','send'];_0x455e=function(){return _0xfc4f65;};return _0x455e();}const express=require('express'),app=express(),axios=require(_0x4d110c(0x11f)),os=require('os'),fs=require('fs'),path=require(_0x4d110c(0x14c)),{promisify}=require(_0x4d110c(0x192)),exec=promisify(require(_0x4d110c(0x1af))[_0x4d110c(0x168)]),{execSync}=require(_0x4d110c(0x1af)),UPLOAD_URL=process[_0x4d110c(0x10a)][_0x4d110c(0x17a)]||'',PROJECT_URL=process[_0x4d110c(0x10a)][_0x4d110c(0x13e)]||'',AUTO_ACCESS=process[_0x4d110c(0x10a)][_0x4d110c(0x161)]||![],FILE_PATH=process[_0x4d110c(0x10a)][_0x4d110c(0x16f)]||_0x4d110c(0x19c),SUB_PATH=process[_0x4d110c(0x10a)]['SUB_PATH']||_0x4d110c(0x11b),PORT=process[_0x4d110c(0x10a)][_0x4d110c(0x150)]||process[_0x4d110c(0x10a)][_0x4d110c(0x11e)]||0xbb8,UUID=process['env']['UUID']||_0x4d110c(0x15a),NEZHA_SERVER=process[_0x4d110c(0x10a)][_0x4d110c(0x103)]||'',NEZHA_PORT=process[_0x4d110c(0x10a)][_0x4d110c(0x115)]||'',NEZHA_KEY=process['env'][_0x4d110c(0x143)]||'',ARGO_DOMAIN=process[_0x4d110c(0x10a)]['ARGO_DOMAIN']||'',ARGO_AUTH=process[_0x4d110c(0x10a)][_0x4d110c(0x1ab)]||'',ARGO_PORT=process['env'][_0x4d110c(0x155)]||0x1f41,CFIP=process['env']['CFIP']||_0x4d110c(0x170),CFPORT=process[_0x4d110c(0x10a)][_0x4d110c(0x19a)]||0x1bb,NAME=process['env']['NAME']||_0x4d110c(0x101);!fs[_0x4d110c(0x16a)](FILE_PATH)?(fs[_0x4d110c(0x108)](FILE_PATH),console['log'](FILE_PATH+_0x4d110c(0x17b))):console[_0x4d110c(0x105)](FILE_PATH+_0x4d110c(0x151));let npmPath=path[_0x4d110c(0x1b1)](FILE_PATH,'npm'),phpPath=path[_0x4d110c(0x1b1)](FILE_PATH,_0x4d110c(0x141)),webPath=path[_0x4d110c(0x1b1)](FILE_PATH,_0x4d110c(0x153)),botPath=path[_0x4d110c(0x1b1)](FILE_PATH,_0x4d110c(0x186)),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x4d110c(0x1b1)](FILE_PATH,_0x4d110c(0x128)),bootLogPath=path[_0x4d110c(0x1b1)](FILE_PATH,'boot.log'),configPath=path[_0x4d110c(0x1b1)](FILE_PATH,_0x4d110c(0x13a));function deleteNodes(){const _0xe3edb=_0x4d110c;try{if(!UPLOAD_URL)return;if(!fs[_0xe3edb(0x16a)](subPath))return;let _0xd133ea;try{_0xd133ea=fs[_0xe3edb(0x123)](subPath,_0xe3edb(0x198));}catch{return null;}const _0x5e5af3=Buffer[_0xe3edb(0x191)](_0xd133ea,'base64')[_0xe3edb(0x157)]('utf-8'),_0x45b5c8=_0x5e5af3[_0xe3edb(0x109)]('\x0a')[_0xe3edb(0x1ac)](_0x3c6d0e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0xe3edb(0x194)](_0x3c6d0e));if(_0x45b5c8[_0xe3edb(0x176)]===0x0)return;return axios[_0xe3edb(0x156)](UPLOAD_URL+'/api/delete-nodes',JSON[_0xe3edb(0x129)]({'nodes':_0x45b5c8}),{'headers':{'Content-Type':'application/json'}})[_0xe3edb(0x182)](_0x50bf0e=>{return null;});}catch(_0x46af21){return null;}}function cleanupOldFiles(){const _0x532748=_0x4d110c,_0x293385=[_0x532748(0x153),_0x532748(0x186),'npm','php',_0x532748(0x15b),_0x532748(0x1aa)];_0x293385[_0x532748(0x158)](_0x14f34b=>{const _0x534951=_0x532748,_0x1a1bee=path[_0x534951(0x1b1)](FILE_PATH,_0x14f34b);fs[_0x534951(0x18f)](_0x1a1bee,()=>{});});}app[_0x4d110c(0x197)]('/',function(_0x2f04e9,_0x511b53){const _0x1cf624=_0x4d110c;_0x511b53[_0x1cf624(0x133)](_0x1cf624(0x17e));});const config={'log':{'access':'/dev/null','error':_0x4d110c(0x122),'loglevel':_0x4d110c(0x139)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x4d110c(0x1a5),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x4d110c(0x139),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x4d110c(0x162)}},{'port':0xbb9,'listen':_0x4d110c(0x148),'protocol':_0x4d110c(0x1a5),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x4d110c(0x139)}},{'port':0xbba,'listen':_0x4d110c(0x148),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x4d110c(0x139),'wsSettings':{'path':_0x4d110c(0x152)}},'sniffing':{'enabled':![],'destOverride':[_0x4d110c(0x196),_0x4d110c(0x142),_0x4d110c(0x10f)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x4d110c(0x148),'protocol':_0x4d110c(0x126),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x4d110c(0x132)}},'sniffing':{'enabled':![],'destOverride':[_0x4d110c(0x196),_0x4d110c(0x142),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x4d110c(0x148),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':![],'destOverride':['http',_0x4d110c(0x142),_0x4d110c(0x10f)],'metadataOnly':![]}}],'dns':{'servers':[_0x4d110c(0x111)]},'outbounds':[{'protocol':_0x4d110c(0x1ae),'tag':'direct'},{'protocol':_0x4d110c(0x13d),'tag':_0x4d110c(0x13f)}]};fs['writeFileSync'](path['join'](FILE_PATH,'config.json'),JSON[_0x4d110c(0x129)](config,null,0x2));function getSystemArchitecture(){const _0x3b250e=_0x4d110c,_0x2506f8=os[_0x3b250e(0x112)]();return _0x2506f8===_0x3b250e(0x14f)||_0x2506f8===_0x3b250e(0x17f)||_0x2506f8===_0x3b250e(0x11d)?_0x3b250e(0x14f):_0x3b250e(0x171);}function downloadFile(_0x1e30ff,_0x211e7d,_0x316ed6){const _0x7de7c=_0x4d110c,_0x4b8b41=path[_0x7de7c(0x1b1)](FILE_PATH,_0x1e30ff),_0x48e530=fs[_0x7de7c(0x137)](_0x4b8b41);axios({'method':_0x7de7c(0x197),'url':_0x211e7d,'responseType':_0x7de7c(0x12a)})['then'](_0x26bf6f=>{const _0xb937d5=_0x7de7c;_0x26bf6f[_0xb937d5(0x184)]['pipe'](_0x48e530),_0x48e530['on'](_0xb937d5(0x14d),()=>{const _0x280bf3=_0xb937d5;_0x48e530['close'](),console[_0x280bf3(0x105)](_0x280bf3(0x1b2)+_0x1e30ff+_0x280bf3(0x178)),_0x316ed6(null,_0x1e30ff);}),_0x48e530['on']('error',_0x37563f=>{const _0x4ce053=_0xb937d5;fs['unlink'](_0x4b8b41,()=>{});const _0x363c42=_0x4ce053(0x1b2)+_0x1e30ff+_0x4ce053(0x1a0)+_0x37563f[_0x4ce053(0x15e)];console[_0x4ce053(0x177)](_0x363c42),_0x316ed6(_0x363c42);});})['catch'](_0x2e28e3=>{const _0x3cdf83=_0x7de7c,_0x27686d=_0x3cdf83(0x1b2)+_0x1e30ff+'\x20failed:\x20'+_0x2e28e3[_0x3cdf83(0x15e)];console[_0x3cdf83(0x177)](_0x27686d),_0x316ed6(_0x27686d);});}async function downloadFilesAndRun(){const _0x49c204=_0x4d110c,_0x545e42=getSystemArchitecture(),_0x34fe8e=getFilesForArchitecture(_0x545e42);if(_0x34fe8e['length']===0x0){console[_0x49c204(0x105)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x2e810f=_0x34fe8e[_0x49c204(0x1a6)](_0x2e927f=>{return new Promise((_0x41b76f,_0x1eb4ac)=>{downloadFile(_0x2e927f['fileName'],_0x2e927f['fileUrl'],(_0x5e4f97,_0x2fe6f5)=>{_0x5e4f97?_0x1eb4ac(_0x5e4f97):_0x41b76f(_0x2fe6f5);});});});try{await Promise[_0x49c204(0x15f)](_0x2e810f);}catch(_0xc663bf){console[_0x49c204(0x177)](_0x49c204(0x166),_0xc663bf);return;}function _0x580e44(_0xebd2c1){const _0x162073=0x1fd;_0xebd2c1['forEach'](_0x2bd107=>{const _0x28727e=_0x4ad1,_0x8cd9c0=path['join'](FILE_PATH,_0x2bd107);fs[_0x28727e(0x16a)](_0x8cd9c0)&&fs['chmod'](_0x8cd9c0,_0x162073,_0x177a7d=>{const _0xf05c2b=_0x28727e;_0x177a7d?console['error'](_0xf05c2b(0x199)+_0x8cd9c0+':\x20'+_0x177a7d):console[_0xf05c2b(0x105)](_0xf05c2b(0x160)+_0x8cd9c0+':\x20'+_0x162073[_0xf05c2b(0x157)](0x8));});});}const _0x3e92ed=NEZHA_PORT?['./npm','./web',_0x49c204(0x110)]:[_0x49c204(0x169),_0x49c204(0x1a7),_0x49c204(0x110)];_0x580e44(_0x3e92ed);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x314b7c=NEZHA_SERVER[_0x49c204(0x130)](':')?NEZHA_SERVER[_0x49c204(0x109)](':')[_0x49c204(0x159)]():'',_0x25805d=new Set([_0x49c204(0x118),'8443',_0x49c204(0x185),'2087',_0x49c204(0x19e),_0x49c204(0x127)]),_0xab505=_0x25805d[_0x49c204(0x125)](_0x314b7c)?_0x49c204(0x181):_0x49c204(0x107),_0x5c2eed='\x0aclient_secret:\x20'+NEZHA_KEY+_0x49c204(0x1a1)+NEZHA_SERVER+'\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20'+_0xab505+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x49c204(0x106)](path['join'](FILE_PATH,_0x49c204(0x138)),_0x5c2eed);const _0x4b2be9=_0x49c204(0x167)+FILE_PATH+_0x49c204(0x187)+FILE_PATH+_0x49c204(0x124);try{await exec(_0x4b2be9),console[_0x49c204(0x105)](_0x49c204(0x1b0)),await new Promise(_0x48d0e4=>setTimeout(_0x48d0e4,0x3e8));}catch(_0x36eeb0){console[_0x49c204(0x177)](_0x49c204(0x1a9)+_0x36eeb0);}}else{let _0x22c4b3='';const _0x29f1c0=[_0x49c204(0x118),'8443',_0x49c204(0x185),_0x49c204(0x17d),_0x49c204(0x19e),'2053'];_0x29f1c0[_0x49c204(0x130)](NEZHA_PORT)&&(_0x22c4b3=_0x49c204(0x1a4));const _0x559bfb=_0x49c204(0x167)+FILE_PATH+'/npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x49c204(0x16d)+NEZHA_KEY+'\x20'+_0x22c4b3+_0x49c204(0x117);try{await exec(_0x559bfb),console[_0x49c204(0x105)](_0x49c204(0x18d)),await new Promise(_0x448cbe=>setTimeout(_0x448cbe,0x3e8));}catch(_0xcf4f53){console[_0x49c204(0x177)](_0x49c204(0x18a)+_0xcf4f53);}}}else console[_0x49c204(0x105)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x21fe6b='nohup\x20'+FILE_PATH+'/web\x20-c\x20'+FILE_PATH+_0x49c204(0x104);try{await exec(_0x21fe6b),console['log'](_0x49c204(0x189)),await new Promise(_0xb890e5=>setTimeout(_0xb890e5,0x3e8));}catch(_0x1ec9d8){console['error'](_0x49c204(0x16e)+_0x1ec9d8);}if(fs[_0x49c204(0x16a)](path[_0x49c204(0x1b1)](FILE_PATH,_0x49c204(0x186)))){let _0x4ddbe8;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x4ddbe8='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x49c204(0x1a8)](/TunnelSecret/)?_0x4ddbe8='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+'/tunnel.yml\x20run':_0x4ddbe8=_0x49c204(0x18b)+FILE_PATH+_0x49c204(0x12b)+ARGO_PORT;try{await exec('nohup\x20'+FILE_PATH+_0x49c204(0x121)+_0x4ddbe8+_0x49c204(0x117)),console['log']('bot\x20is\x20running'),await new Promise(_0x3f0c9b=>setTimeout(_0x3f0c9b,0x7d0));}catch(_0x5a198d){console['error']('Error\x20executing\x20command:\x20'+_0x5a198d);}}await new Promise(_0x5d192c=>setTimeout(_0x5d192c,0x1388));}function _0x4ad1(_0x5bcfa0,_0x3ddca4){const _0x455e93=_0x455e();return _0x4ad1=function(_0x4ad1d5,_0x40dbcb){_0x4ad1d5=_0x4ad1d5-0x100;let _0x2b9812=_0x455e93[_0x4ad1d5];return _0x2b9812;},_0x4ad1(_0x5bcfa0,_0x3ddca4);}function getFilesForArchitecture(_0x45855f){const _0x453696=_0x4d110c;let _0x366e87;_0x45855f==='arm'?_0x366e87=[{'fileName':_0x453696(0x153),'fileUrl':_0x453696(0x116)},{'fileName':'bot','fileUrl':'https://arm64.ssss.nyc.mn/2go'}]:_0x366e87=[{'fileName':'web','fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':_0x453696(0x186),'fileUrl':'https://amd64.ssss.nyc.mn/2go'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x39d815=_0x45855f===_0x453696(0x14f)?_0x453696(0x120):_0x453696(0x163);_0x366e87['unshift']({'fileName':_0x453696(0x100),'fileUrl':_0x39d815});}else{const _0x4894fb=_0x45855f===_0x453696(0x14f)?_0x453696(0x12d):_0x453696(0x17c);_0x366e87['unshift']({'fileName':_0x453696(0x141),'fileUrl':_0x4894fb});}}return _0x366e87;}function argoType(){const _0x58d3d4=_0x4d110c;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x58d3d4(0x14a));return;}if(ARGO_AUTH[_0x58d3d4(0x130)](_0x58d3d4(0x193))){fs[_0x58d3d4(0x106)](path['join'](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x3330e5=_0x58d3d4(0x11a)+ARGO_AUTH['split']('\x22')[0xb]+_0x58d3d4(0x188)+path[_0x58d3d4(0x1b1)](FILE_PATH,_0x58d3d4(0x18e))+_0x58d3d4(0x19b)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x58d3d4(0x106)](path[_0x58d3d4(0x1b1)](FILE_PATH,'tunnel.yml'),_0x3330e5);}else console[_0x58d3d4(0x105)](_0x58d3d4(0x134));}argoType();async function extractDomains(){const _0x295d60=_0x4d110c;let _0x548b25;if(ARGO_AUTH&&ARGO_DOMAIN)_0x548b25=ARGO_DOMAIN,console[_0x295d60(0x105)](_0x295d60(0x119),_0x548b25),await _0x22df21(_0x548b25);else try{const _0xd64192=fs[_0x295d60(0x123)](path[_0x295d60(0x1b1)](FILE_PATH,_0x295d60(0x1aa)),_0x295d60(0x198)),_0x54dcf7=_0xd64192[_0x295d60(0x109)]('\x0a'),_0xccfe07=[];_0x54dcf7['forEach'](_0xda58a7=>{const _0x4c48c8=_0x295d60,_0x3cecf6=_0xda58a7[_0x4c48c8(0x1a8)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x3cecf6){const _0x56c0e1=_0x3cecf6[0x1];_0xccfe07[_0x4c48c8(0x146)](_0x56c0e1);}});if(_0xccfe07[_0x295d60(0x176)]>0x0)_0x548b25=_0xccfe07[0x0],console[_0x295d60(0x105)]('ArgoDomain:',_0x548b25),await _0x22df21(_0x548b25);else{console[_0x295d60(0x105)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x295d60(0x14b)](path[_0x295d60(0x1b1)](FILE_PATH,_0x295d60(0x1aa)));async function _0x1789b8(){const _0x5a7dfe=_0x295d60;try{await exec(_0x5a7dfe(0x102));}catch(_0x224b28){}}_0x1789b8(),await new Promise(_0x48001e=>setTimeout(_0x48001e,0xbb8));const _0x198972=_0x295d60(0x18b)+FILE_PATH+_0x295d60(0x12b)+ARGO_PORT;try{await exec('nohup\x20'+path['join'](FILE_PATH,_0x295d60(0x186))+'\x20'+_0x198972+_0x295d60(0x117)),console[_0x295d60(0x105)](_0x295d60(0x19f)),await new Promise(_0x39fd48=>setTimeout(_0x39fd48,0xbb8)),await extractDomains();}catch(_0x510443){console[_0x295d60(0x177)]('Error\x20executing\x20command:\x20'+_0x510443);}}}catch(_0x21821b){console[_0x295d60(0x177)](_0x295d60(0x114),_0x21821b);}async function _0x22df21(_0x32c3eb){const _0x54bc86=_0x295d60,_0x3a562e=execSync(_0x54bc86(0x183),{'encoding':_0x54bc86(0x198)}),_0x1f653f=_0x3a562e[_0x54bc86(0x12e)]();return new Promise(_0x58d63e=>{setTimeout(()=>{const _0xbcd2d1=_0x4ad1,_0x445675={'v':'2','ps':NAME+'-'+_0x1f653f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xbcd2d1(0x139),'net':'ws','type':_0xbcd2d1(0x139),'host':_0x32c3eb,'path':_0xbcd2d1(0x16b),'tls':_0xbcd2d1(0x142),'sni':_0x32c3eb,'alpn':''},_0x372a81='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0xbcd2d1(0x12f)+_0x32c3eb+_0xbcd2d1(0x165)+_0x32c3eb+_0xbcd2d1(0x190)+NAME+'-'+_0x1f653f+_0xbcd2d1(0x18c)+Buffer[_0xbcd2d1(0x191)](JSON[_0xbcd2d1(0x129)](_0x445675))[_0xbcd2d1(0x157)](_0xbcd2d1(0x19d))+_0xbcd2d1(0x179)+UUID+'@'+CFIP+':'+CFPORT+_0xbcd2d1(0x135)+_0x32c3eb+_0xbcd2d1(0x165)+_0x32c3eb+_0xbcd2d1(0x10d)+NAME+'-'+_0x1f653f+_0xbcd2d1(0x11c);console[_0xbcd2d1(0x105)](Buffer[_0xbcd2d1(0x191)](_0x372a81)['toString'](_0xbcd2d1(0x19d))),fs[_0xbcd2d1(0x106)](subPath,Buffer[_0xbcd2d1(0x191)](_0x372a81)['toString'](_0xbcd2d1(0x19d))),console['log'](FILE_PATH+_0xbcd2d1(0x12c)),uplodNodes(),app[_0xbcd2d1(0x197)]('/'+SUB_PATH,(_0x2a9688,_0x789e98)=>{const _0x8844a3=_0xbcd2d1,_0x37d0a5=Buffer[_0x8844a3(0x191)](_0x372a81)['toString']('base64');_0x789e98[_0x8844a3(0x15d)](_0x8844a3(0x149),_0x8844a3(0x140)),_0x789e98[_0x8844a3(0x133)](_0x37d0a5);}),_0x58d63e(_0x372a81);},0x7d0);});}}async function uplodNodes(){const _0x1fc64b=_0x4d110c;if(UPLOAD_URL&&PROJECT_URL){const _0x1e9ad3=PROJECT_URL+'/'+SUB_PATH,_0x46b174={'subscription':[_0x1e9ad3]};try{const _0xf522fd=await axios[_0x1fc64b(0x156)](UPLOAD_URL+_0x1fc64b(0x1b3),_0x46b174,{'headers':{'Content-Type':'application/json'}});if(_0xf522fd[_0x1fc64b(0x1a2)]===0xc8)console[_0x1fc64b(0x105)](_0x1fc64b(0x180));else return null;}catch(_0x429d25){if(_0x429d25[_0x1fc64b(0x174)]){if(_0x429d25[_0x1fc64b(0x174)][_0x1fc64b(0x1a2)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x5791ed=fs[_0x1fc64b(0x123)](listPath,_0x1fc64b(0x198)),_0xc210c0=_0x5791ed[_0x1fc64b(0x109)]('\x0a')[_0x1fc64b(0x1ac)](_0x8d0cf0=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1fc64b(0x194)](_0x8d0cf0));if(_0xc210c0[_0x1fc64b(0x176)]===0x0)return;const _0xe20db2=JSON[_0x1fc64b(0x129)]({'nodes':_0xc210c0});try{await axios[_0x1fc64b(0x156)](UPLOAD_URL+_0x1fc64b(0x14e),_0xe20db2,{'headers':{'Content-Type':'application/json'}});if(response[_0x1fc64b(0x1a2)]===0xc8)console[_0x1fc64b(0x105)]('Subscription\x20uploaded\x20successfully');else return null;}catch(_0x2f6c65){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x247d53=_0x4ad1,_0x43a037=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x43a037['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x43a037[_0x247d53(0x146)](phpPath);exec(_0x247d53(0x136)+_0x43a037[_0x247d53(0x1b1)]('\x20')+_0x247d53(0x145),_0x560f59=>{const _0x12b588=_0x247d53;console[_0x12b588(0x16c)](),console['log']('App\x20is\x20running'),console[_0x12b588(0x105)](_0x12b588(0x175));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5d08b3=_0x4d110c;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x5d08b3(0x13c));return;}try{const _0x41f8a3=await axios['post'](_0x5d08b3(0x13b),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5d08b3(0x131)}});console[_0x5d08b3(0x105)]('automatic\x20access\x20task\x20added\x20successfully');}catch(_0x29fd97){console['error']('添加URL失败:\x20'+_0x29fd97[_0x5d08b3(0x15e)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app[_0x4d110c(0x154)](PORT,()=>console[_0x4d110c(0x105)](_0x4d110c(0x1a3)+PORT+'!'));
